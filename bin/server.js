const { createCommand } = require('commander')

module.exports = createCommand('server')
  .description('create a P2P shell server')
  .option('-f <filename>', 'filename of the server seed key')
  .option('--firewall <filename>', 'list of allowed public keys')
  .option('--disable-firewall', 'allow anyone to connect', false)
  .option('--protocol <name...>', 'list of allowed protocols')
  .option('--tunnel-host <address...>', 'restrict tunneling to a limited set of hosts')
  .option('--tunnel-port <port...>', 'restrict tunneling to a limited set of ports')
  .option('--bootstrap <nodes...>', 'custom dht nodes')
  .action(require('../lib/bin/server.js'))
